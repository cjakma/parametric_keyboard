#!/usr/bin/env ruby
require './parametric_keyboard'

keymap = [
  # Row 0
  [ [ 0, 0 ], 1 ], # esc
  [ [ 1, 0 ], 1 ], # q
  [ [ 2, 0 ], 1 ], # w
  [ [ 3, 0 ], 1 ], # e
  [ [ 4, 0 ], 1 ], # r
  [ [ 5, 0 ], 1 ], # t
  [ [ 6, 0 ], 1 ], # y
  [ [ 7, 0 ], 1 ], # u
  [ [ 8, 0 ], 1 ], # i
  [ [ 9, 0 ], 1 ], # o
  [ [ 10, 0 ], 1 ], # p
  [ [ 11, 0 ], 1 ], # backspace
  # Row 1
  [ [ 0, 1 ], 1.25 ], # tab
  [ [ 1.25, 1 ], 1 ], # a
  [ [ 2.25, 1 ], 1 ], # s
  [ [ 3.25, 1 ], 1 ], # d
  [ [ 4.25, 1 ], 1 ], # f
  [ [ 5.25, 1 ], 1 ], # g
  [ [ 6.25, 1 ], 1 ], # h
  [ [ 7.25, 1 ], 1 ], # j
  [ [ 8.25, 1 ], 1 ], # k
  [ [ 9.25, 1 ], 1 ], # l
  [ [ 10.25, 1 ], 1.75 ], # l
  # Row 2
  [ [ 0, 2 ], 1.75 ], # shift
  [ [ 1.75, 2 ], 1 ], # z
  [ [ 2.75, 2 ], 1 ], # x
  [ [ 3.75, 2 ], 1 ], # c
  [ [ 4.75, 2 ], 1 ], # v
  [ [ 5.75, 2 ], 1 ], # b
  [ [ 6.75, 2 ], 1 ], # n
  [ [ 7.75, 2 ], 1 ], # m
  [ [ 8.75, 2 ], 1 ], # ,
  [ [ 9.75, 2 ], 1.25 ], # shift
  [ [ 11.0, 2 ], 1 ], # fn
  # Row 3
  [ [ 0, 3 ], 1.25 ], # hyper
  [ [ 1.25, 3 ], 1 ], # super
  [ [ 2.25, 3 ], 1 ], # meta
  [ [ 3.25, 3 ], 6.25 ], # space
  [ [ 9.5, 3 ], 1.25 ], # meta
  [ [ 10.75, 3 ], 1.25 ] # super
]

kb = ParametricKeyboard.new(
  width: 12,
  height: 4,
  keymap: keymap,
  include_cutouts: false
)

# puts kb.plate.to_scad
kb.plate.save_scad('jd40.scad')
